plugins {
	id 'groovy'
	id 'eclipse'
	id 'maven'
	id 'net.nemerosa.versioning' version '1.1.0'
}

defaultTasks 'clean', 'jar', 'test'

group = 'com.github.slugger.spock'
version = versioning.info.display

repositories {
	mavenCentral()
}

dependencies {
	compile "org.codehaus.groovy:groovy-all:2.0.8"
	compile "org.spockframework:spock-core:0.7-groovy-2.0"
	testCompile "cglib:cglib-nodep:2.2.2"
}

test {
	exclude '**/FakeTest.class'
	systemProperty 'project.buildDir', project.buildDir
	testLogging.showStandardStreams = true
}

task sourcesJar(type: Jar, dependsOn: classes) {
    from sourceSets.main.allSource
    classifier "sources"
    extension "jar"
}